(function(){if(typeof module==="object"&&module.exports){module.exports={hudxInit:e,hudx:r}}else{document.hudx=e()}function e(){if(document.readyState!=="loading"){r(document.body)}else{document.addEventListener("DOMContentLoaded",function(){r(document.body)})}}function r(e){if(e.children.length===0){n(e);return}for(const t of e.querySelectorAll("[hudx]")){n(t)}}function n(o){let e={};for(const t of o.attributes){const n=t.value.trim().split(" ");if(t.name.startsWith("hdx")||t.name.startsWith("hdsx")){if(e[n[0]]===undefined){e[n[0]]={};e[n[0]].hdx={};e[n[0]].hdsx={}}if(t.name.startsWith("hdx")){e[n[0]].hdx[t.name]=n}else if(t.name.startsWith("hdsx")){e[n[0]].hdsx[t.name]=n}}}for(const[s,i]of Object.entries(e)){o.addEventListener(s,function(e){for(const[t,n]of Object.entries(i)){for(const[s,e]of Object.entries(n)){switch(t){case"hdx":if(e[3]==="this"){e[3]=o}else if(typeof e[3]==="string"){e[3]=document.querySelector(e[3])}c(e,o,s.substring(3));a("hds-r",o,s.substring(3));break;case"hdsx":f(e[1],e[2],e.slice(3));break}}}e.stopPropagation()})}}function c(e,t,n){let s=new XMLHttpRequest;s.open(e[1],e[2]);s.onload=function(){if(200<=s.status&&s.status<400){if(s.status==204){return}o(e[3],e[4],s.response);a("hds-s",t,n)}else{a("hds-er",t,n)}};s.onerror=function(){a("hds-ec",t,n)};s.send(i(e,s))}function a(e,t,n){for(const s of t.attributes){if(s.name.startsWith(e+n)){const o=s.value.trim().split(" ");f(o[0],o[1],o.slice(2))}}}function f(e,t,n){const s=document.querySelectorAll(e);for(const o of n){for(const i of s){switch(t){case"add":i.classList.add(o);break;case"remove":i.classList.remove(o);break;case"toggle":i.classList.toggle(o);break}}}}function o(e,t,n){const s=(new DOMParser).parseFromString(n,"text/html").body.firstElementChild;switch(t){case"innerHTML":e.innerHTML=n;if(e.firstElementChild!==null){r(e.firstElementChild)}break;case"outerHTML":if(s!==null){const o=e.insertAdjacentElement("beforebegin",s);if(o!==null){o.nextElementSibling.remove();r(o)}}else{e.remove()}break;case"beforebegin":case"afterbegin":case"beforeend":case"afterend":if(s!==null){const i=e.insertAdjacentElement(t,s);if(i!==null){r(i)}}break}}function i(t,n){if(t[1]!=="GET"){let e="";n.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(const s of t.slice(5)){const o=document.querySelectorAll(s+" input");for(const i of o){e+=i.name+"="+i.value+"&"}}return e.slice(0,-1)}}})();